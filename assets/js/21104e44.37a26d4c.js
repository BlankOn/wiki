"use strict";(self.webpackChunkdocusaurus_wiki=self.webpackChunkdocusaurus_wiki||[]).push([[35866],{3905:function(n,e,t){t.d(e,{Zo:function(){return m},kt:function(){return k}});var a=t(67294);function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function o(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){r(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function l(n,e){if(null==n)return{};var t,a,r=function(n,e){if(null==n)return{};var t,a,r={},i=Object.keys(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||(r[t]=n[t]);return r}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(a=0;a<i.length;a++)t=i[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var u=a.createContext({}),s=function(n){var e=a.useContext(u),t=e;return n&&(t="function"==typeof n?n(e):o(o({},e),n)),t},m=function(n){var e=s(n.components);return a.createElement(u.Provider,{value:e},n.children)},d={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},p=a.forwardRef((function(n,e){var t=n.components,r=n.mdxType,i=n.originalType,u=n.parentName,m=l(n,["components","mdxType","originalType","parentName"]),p=s(t),k=r,c=p["".concat(u,".").concat(k)]||p[k]||d[k]||i;return t?a.createElement(c,o(o({ref:e},m),{},{components:t})):a.createElement(c,o({ref:e},m))}));function k(n,e){var t=arguments,r=e&&e.mdxType;if("string"==typeof n||r){var i=t.length,o=new Array(i);o[0]=p;var l={};for(var u in e)hasOwnProperty.call(e,u)&&(l[u]=e[u]);l.originalType=n,l.mdxType="string"==typeof n?n:r,o[1]=l;for(var s=2;s<i;s++)o[s]=t[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},24909:function(n,e,t){t.r(e),t.d(e,{assets:function(){return m},contentTitle:function(){return u},default:function(){return k},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return d}});var a=t(83117),r=t(80102),i=(t(67294),t(3905)),o=["components"],l={},u="django/FastCGI/nginx administration on `waljinah`",s={unversionedId:"TimPengembang/Infrastruktur/DjangoFastCGINginx",id:"TimPengembang/Infrastruktur/DjangoFastCGINginx",title:"django/FastCGI/nginx administration on `waljinah`",description:"Administrasi web blankon yang berbasis django dilayani oleh nginx lewat protokol FastCGI.",source:"@site/wiki/TimPengembang/Infrastruktur/DjangoFastCGINginx.md",sourceDirName:"TimPengembang/Infrastruktur",slug:"/TimPengembang/Infrastruktur/DjangoFastCGINginx",permalink:"/TimPengembang/Infrastruktur/DjangoFastCGINginx",draft:!1,editUrl:"https://github.com/BlankOn/wiki/edit/master/wiki/TimPengembang/Infrastruktur/DjangoFastCGINginx.md",tags:[],version:"current",frontMatter:{}},m={},d=[],p={toc:d};function k(n){var e=n.components,t=(0,r.Z)(n,o);return(0,i.kt)("wrapper",(0,a.Z)({},p,t,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"djangofastcginginx-administration-on-waljinah"},"django/FastCGI/nginx administration on ",(0,i.kt)("inlineCode",{parentName:"h1"},"waljinah")),(0,i.kt)("p",null,"Administrasi web blankon yang berbasis django dilayani oleh nginx lewat protokol FastCGI."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"+==========+\n|  client  |         +=======+               +========+\n| requests | <-----\x3e | nginx | <--FastCGI--\x3e | django |\n|          |         +=======+               +========+\n+==========+\n")),(0,i.kt)("p",null,"gambar di atas adalah skema komunikasi antara web django, nginx, dan request dari user."),(0,i.kt)("p",null,"file-file penting untuk administrasi web ada di:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"/home/situs/run"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"file dengan ekstensi .pid adalah PID dari daemon FastCGI untuk setiap web django"),(0,i.kt)("li",{parentName:"ul"},"file dengan ekstensi .socket adalah UNIX socket untuk melayani request dari nginx"))),(0,i.kt)("li",{parentName:"ol"},"file ",(0,i.kt)("inlineCode",{parentName:"li"},"/etc/init.d/fastcgi")," adalah ",(0,i.kt)("em",{parentName:"li"},"initscript")," untuk ",(0,i.kt)("em",{parentName:"li"},"start"),"/",(0,i.kt)("em",{parentName:"li"},"stop"),"/",(0,i.kt)("em",{parentName:"li"},"restart")," daemon FastCGI untuk web\n",(0,i.kt)("inlineCode",{parentName:"li"},"aku.blankonlinux.or.id")),(0,i.kt)("li",{parentName:"ol"},"file ",(0,i.kt)("inlineCode",{parentName:"li"},"restart-django.sh")," dalam folder ",(0,i.kt)("inlineCode",{parentName:"li"},"/home/situs/bin")," digunakan untuk me-",(0,i.kt)("em",{parentName:"li"},"restart")," daemon FastCGI untuk web:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ayo.semua.di.blankon.in")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"w.blankon.in")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"tempel.blankon.in")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"irclog.blankon.in")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"security.blankonlinux.or.id")),(0,i.kt)("li",{parentName:"ul"},"versi lama ",(0,i.kt)("inlineCode",{parentName:"li"},"blankonlinux.or.id"))))),(0,i.kt)("p",null,"untuk me-",(0,i.kt)("em",{parentName:"p"},"restart")," daemon FastCGI seluruh web django, jalankan perintah berikut ini:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo su - situs\nsitus$ restart-django.sh\nsitus$ exit\n$ sudo chown www-data:www-data /home/situs/run/*.socket\n")),(0,i.kt)("p",null,"untuk me-",(0,i.kt)("em",{parentName:"p"},"restart")," daemon FastCGI untuk web django tertentu saja:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"$ sudo su - situs\nsitus$ cd /home/situs/namafolder\nsitus$ kill `cat /home/situs/run/namafolder.pid`\nsitus$ rm -f /home/situs/run/namafolder.pid\nsitus$ ./manage.py fastcgi method=threaded socket=/home/situs/run/namafolder.socket pidfile=/home/situs/run/namafolder.pid \nsitus$ exit\n$ sudo chown www-data:www-data /home/situs/run/namafolder.socket\n")),(0,i.kt)("p",null,"ganti ",(0,i.kt)("inlineCode",{parentName:"p"},"namafolder")," dengan folder web django yang bersangkutan."))}k.isMDXComponent=!0}}]);