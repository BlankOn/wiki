<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-TimPengembang/Infrastruktur/2009/Rancangan">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Rancangan Infrastruktur 2009 | BlankOn Linux</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/2009/Rancangan/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rancangan Infrastruktur 2009 | BlankOn Linux"><meta data-rh="true" name="description" content="Rancangan"><meta data-rh="true" property="og:description" content="Rancangan"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/2009/Rancangan/"><link data-rh="true" rel="alternate" href="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/2009/Rancangan/" hreflang="en"><link data-rh="true" rel="alternate" href="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/2009/Rancangan/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://80516KNSUD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="BlankOn Linux" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.dad2746d.css">
<link rel="preload" href="/assets/js/runtime~main.8103a87c.js" as="script">
<link rel="preload" href="/assets/js/main.9b713c1a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.jpeg" alt="BlankOn Linux Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.jpeg" alt="BlankOn Linux Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">BlankOn</b></a><a class="navbar__item navbar__link" href="/Partisipasi/">Tim Pengembang</a><a class="navbar__item navbar__link" href="/ProdukBlankOn/">Produk</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/BlankOn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="BlankOn Wiki"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Rancangan Infrastruktur 2009</h1><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rancangan">Rancangan<a class="hash-link" href="#rancangan" title="Direct link to heading">​</a></h3><p>Diskusi rancangan dilakukan di wiki:Infrastruktur/2009/Rancangan/Diskusi</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="infrastruktur-blankon-2009-terdistribusi">Infrastruktur BlankOn 2009: Terdistribusi<a class="hash-link" href="#infrastruktur-blankon-2009-terdistribusi" title="Direct link to heading">​</a></h2><p>Komponen utama</p><ul><li>Pabrik Paket</li><li>Pabrik CD</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pabrik-paket">Pabrik Paket<a class="hash-link" href="#pabrik-paket" title="Direct link to heading">​</a></h3><p>Entitas yang terlibat dalam infrastruktur pabrik paket:</p><ul><li>submitter: pengirim tugas</li><li>manager: penjadwal tugas</li><li>worker: pelaksana tugas</li></ul><p>Alur kerja pabrik paket:</p><ol><li>Pemaket membuat sebuah deskripsi tugas yang berisi informasi mengenai
paket yang akan dibuat.</li><li>Pemaket, yang berperan sebagai submitter, mengirimkan deskripsi tugas ke
manager.</li><li>Tugas yang berada dalam antrian akan didistribusikan oleh manager ke
worker dengan dua cara:<ol><li>tugas dikirim ke worker (mekanisme push), dan</li><li>tugas diminta oleh worker (mekanisme pull)</li></ol></li><li>Mesin worker yang sudah menerima tugas segera menjalankan tugas tersebut.</li><li>Ketika tugas telah selesai dijalankan, hasil akan dikirim kembali ke
manager</li><li>Mesin manager menerima hasil dari worker dan memperbaharui repositori.</li></ol><p>Informasi tugas dan hasil tugas harus dapat dikirim secara aman dan dapat
dipercaya, misalnya setiap pengiriman harus dilengkapi dengan tanda-tangan
digital.</p><p>Mesin worker yang menggunakan mekanisme push harus dapat dipantau statusnya
oleh manager. Sehingga manager dapat mengirim tugas dalam antrian ke mesin
tersebut jika mesin sedang dalam keadaan menganggur. Mesin worker seperti ini
disebut dengan mesin pasif.</p><p>Mesin worker yang hanya mendukung mekanisme pull bekerja dengan cara
sebaliknya. Tugas baru diterima ketika mesin worker meminta tugas kepada
manager. Mesin worker seperti ini disebut dengan mesin aktif.
Pekerjaan yang dikirim oleh manager sebaiknya bisa diatur sesuai dengan
kriteria kecocokan tertentu, misalnya:</p><ol><li>hanya menerima tugas kecil (perlu ada statistik tugas), atau</li><li>tugas dipilih secara manual oleh orang yang ada di balik mesin worker
tersebut, atau</li><li>tugas apa saja yang berada pada posisi terdepan dalam antrian.</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="deskripsi-tugas">Deskripsi Tugas<a class="hash-link" href="#deskripsi-tugas" title="Direct link to heading">​</a></h4><p>Pada dasarnya, sebuah paket sudah dapat dibuat andai kode sumber aplikasi
beserta deskripsi paket Debian sudah tersedia (kedua hal ini kemudian akan
disebut dengan istilah kode sumber paket). Oleh karena itu, deskripsi paket
harus mengandung informasi mengenai kode sumber paket ini.</p><p>Deskripsi tugas tidak akan berisi kode sumber paket, namun hanya akan berisi
URL dimana kode sumber paket tersebut dapat diperoleh.
Kode sumber paket dapat disusun menjadi dua cara:</p><ol><li>Sebuah arsip komplit yang berisi kode sumber aplikasi dan deskripsi paket
Debian.</li><li>Arsip kode sumber aplikasi dan arsip kode deskripsi paket Debian (dikenal
juga dengan berkas diff).</li></ol><p>Arsip dapat diletakkan dalam sebuah berkas arsip terkompresi (dengan tar/gz
atau tar/bz2) maupun dalam sebuah repositori bzr. Jika repositori bzr
digunakan, maka perlu juga disebutkan lokasi repositori tersebut dan revisi
yang ingin diambil.</p><p>Selain berisi informasi mengenai kode sumber paket, deskripsi tugas juga berisi
repositori tujuan paket (misalnya lontara, lontara-security, dan meuligoe).
Contoh deskripsi tugas:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">dist meuligoe</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">orig http://cecunguk.blankonlinux.or.id/~iang/orig/daluang/daluang-0.3.orig.tar.gz</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">diff-bzr-url http://dev.blankonlinux.or.id/bzr/meuligoe/daluang/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">diff-bzr-tag 0.3.0-0blankon1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">dist meuligoe</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">orig-bzr-url http://dev.blankonlinux.or.id/bzr/meuligoe/ubiquity/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">orig-bzr-tag 1.10.10-0blankon1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="format-deskripsi-tugas-">Format deskripsi tugas ***<a class="hash-link" href="#format-deskripsi-tugas-" title="Direct link to heading">​</a></h4><p>Deskripsi tugas ditulis dalam bentuk teks dimana setiap barisnya akan berisi
dua hal, yaitu key dan value.</p><p>Daftar key yang dapat diterima:</p><ul><li>dist: repositori tujuan</li><li>orig: URL menuju arsip berkas kode sumber aplikasi</li><li>orig-bzr-url: URL menuju repositori bzr yan berisi kode sumber aplikasi</li><li>orig-bzr-rev: Nomor revisi pada cabang bzr orig-bzr-url</li><li>orig-bzr-tag: Tag revisi pada cabang bzr orig-bzr-url</li><li>diff: URL menuju arsip berkas deskripsi paket Debian</li><li>diff-bzr-url: URL menuju repositori bzr yan berisi deskripsi paket Debian</li><li>diff-bzr-rev: Nomor revisi pada cabang bzr orig-bzr-url</li><li>diff-bzr-tag: Tag revisi pada cabang bzr orig-bzr-url</li></ul><p>Penggunaan orig-bzr-url harus disertakan dengan orig-bzr-rev atau orig-bzr-tag.
Jika sudah ada orig, maka orig-bzr-url akan diabaikan. Begitu pula penggunaan
diff dan diff-bzr-url.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pengiriman-tugas-dari-submitter-ke-manager">Pengiriman Tugas Dari submitter ke manager<a class="hash-link" href="#pengiriman-tugas-dari-submitter-ke-manager" title="Direct link to heading">​</a></h4><p>Deskripsi tugas akan dikirim ke manager dengan menyertakan informasi tambahan
berikut ini.</p><ol><li>Identitas pengirim tugas (email)
Deskripsi tugas yang sudah ditambahi informasi tambahan ini selanjutnya akan
disebut dengan TUGAS (FIXME!)
Berkas TUGAS dikirim ke manager melalui beberapa cara, antara lain:</li><li>dibuat dan dikirim secara online (ada halaman web untuk membuat TUGAS)</li><li>dibuat lokal lalu dikirim melalui protokol tertentu</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="penjadwalan-tugas">Penjadwalan Tugas<a class="hash-link" href="#penjadwalan-tugas" title="Direct link to heading">​</a></h4><p>Mesin manager bertugas untuk menjadwalkan tugas yang masuk untuk kemudian
dikirim ke mesin worker.
Implementasi sederhana sistem penjadwalan ini adalah dengan membuat sistem
antrian. Tugas yang masuk akan dimasukkan ke dalam sistem antrian dan akan
dikirimkan secara berurutan kepada setiap permintaan tugas dari worker yang
masuk.</p><p>Tugas yang ada memiliki status sebagai berikut.</p><ol><li>NEW yang berarti tugas baru masuk ke dalam antrian.</li><li>BUILDING yang berarti tugas sudah dikirimkan ke worker.</li><li>DONE yang berarti tugas sudah selesai dikerjakan dan paket hasil sudah
diterima oleh manager. Tugas dengan status ini dikeluarkan dari antrian.</li><li>ERROR yang berarti worker mengalami masalah dalam menyelesaikan tugas
ini.</li></ol><p>Tugas yang memiliki status ERROR dapat dikeluarkan dari antrian jika masalah
disebabkan oleh kode sumber aplikasi dan deskripsi paket Debian yang
bermasalah. Jika masalah disebabkan oleh hal lain (misalnya repositori belum
sinkron), tugas ini dapat dijadwalkan ulang sehingga bisa dikirim ulang ke
worker.</p><p>TODO: bagaimana cara mendeteksinya?</p><p>Tugas yang memiliki status BUILDING tidak akan dikirim ke worker.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pengiriman-tugas-dari-manager-ke-worker">Pengiriman Tugas Dari manager ke worker<a class="hash-link" href="#pengiriman-tugas-dari-manager-ke-worker" title="Direct link to heading">​</a></h4><p>Mesin worker pasif akan menunggu kiriman tugas dari manager yang dapat dikirim
dengan beberapa cara, antara lain:</p><ol><li>Mesin worker menjalankan sebuah service yang menunggu koneksi dari
manager. Koneksi yang masuk akan membawa deskripsi tugas dan memicu
proses pabrik paket.</li></ol><p>Mesin worker aktif akan secara aktif meminta tugas dari manager. Tugas
diberikan oleh manager sesuai dengan kriteria kecocokan seperti yang telah
dicontohkan sebelumnya dalam dokumen ini. Setelah menerima tugas, mesin worker
memulai proses pabrik paket.</p><p>Setiap tugas yang dikirim akan diberi status BUILDING.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pengiriman-hasil-tugas-ke-manager">Pengiriman Hasil Tugas ke manager<a class="hash-link" href="#pengiriman-hasil-tugas-ke-manager" title="Direct link to heading">​</a></h4><p>TODO</p><p>Bahan diskusi:</p><ul><li>Pengiriman paket bisa ditunda sampai mesin online.</li><li>Paket dikirim pakai jalur apa?</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="pabrik-cd">Pabrik CD<a class="hash-link" href="#pabrik-cd" title="Direct link to heading">​</a></h3><p>TODO</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="infrastruktur-keamanan">Infrastruktur Keamanan<a class="hash-link" href="#infrastruktur-keamanan" title="Direct link to heading">​</a></h3><p>Seluruh pengiriman pesan dari setiap entitas yang terkait harus terjamin
keamanannya, setidaknya dalam aspek-aspek berikut.</p><ol><li>Penerima dan pengirim pesan harus dijamin benar</li><li>Integritas pesan harus dijamin</li><li>...</li></ol><p>Diskusi mengenai infrastruktur keamanan dapat ditemui di wiki:Infrastruktur/2009/Rancangan/Diskusi/Keamanan?
Last modified on 11/14/2008 02:47:16 AM</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attachments-1">Attachments (1)<a class="hash-link" href="#attachments-1" title="Direct link to heading">​</a></h4><ul><li>pabrik-paket.svg​ (50.2 KB) - added by mdamt 8 years ago. 0.1.1</li></ul><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/BlankOn/wiki/commits/master/TimPengembang/Infrastruktur/2009/Rancangan.md" target="_blank" rel="noreferrer noopener" style="margin-right:15px" class="theme-edit-this-page"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16" style="margin-right:0.3em;vertical-align:sub"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path></svg>Page History</a><a href="https://github.com/BlankOn/wiki/edit/master/TimPengembang/Infrastruktur/2009/Rancangan.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#rancangan" class="table-of-contents__link toc-highlight">Rancangan</a></li><li><a href="#infrastruktur-blankon-2009-terdistribusi" class="table-of-contents__link toc-highlight">Infrastruktur BlankOn 2009: Terdistribusi</a><ul><li><a href="#pabrik-paket" class="table-of-contents__link toc-highlight">Pabrik Paket</a></li><li><a href="#pabrik-cd" class="table-of-contents__link toc-highlight">Pabrik CD</a></li><li><a href="#infrastruktur-keamanan" class="table-of-contents__link toc-highlight">Infrastruktur Keamanan</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://blankonlinux.or.id" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/logo-hitam.png" alt="BlankOn Linux" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/logo-hitam.png" alt="BlankOn Linux" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2022 BlankOn Linux. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8103a87c.js"></script>
<script src="/assets/js/main.9b713c1a.js"></script>
</body>
</html>