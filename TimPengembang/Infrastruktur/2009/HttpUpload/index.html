<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<link rel="search" type="application/opensearchdescription+xml" title="BlankOn Linux" href="/opensearch.xml"><title data-react-helmet="true">HttpUpload | BlankOn Linux</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="HttpUpload | BlankOn Linux"><meta data-react-helmet="true" name="description" content="Upload Melalui HTTP Secara Efisien"><meta data-react-helmet="true" property="og:description" content="Upload Melalui HTTP Secara Efisien"><meta data-react-helmet="true" property="og:url" content="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/2009/HttpUpload"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/2009/HttpUpload"><link rel="stylesheet" href="/styles.7260b2da.css">
<link rel="preload" href="/styles.dcbe222e.js" as="script">
<link rel="preload" href="/runtime~main.60ad8088.js" as="script">
<link rel="preload" href="/main.aeed4b22.js" as="script">
<link rel="preload" href="/1.7c4d405e.js" as="script">
<link rel="preload" href="/2.d19e4140.js" as="script">
<link rel="preload" href="/967.9f3b1eba.js" as="script">
<link rel="preload" href="/970.a318286d.js" as="script">
<link rel="preload" href="/935f2afb.b3d82976.js" as="script">
<link rel="preload" href="/17896441.2730f3b9.js" as="script">
<link rel="preload" href="/1cd63d72.4da17914.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top navbarHideable_3046"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.jpeg" alt="BlankOn Linux Logo"><strong class="navbar__title">BlankOn</strong></a><a class="navbar__item navbar__link" href="/TimPengembang/TimBlankOn">Tim Pengembang</a><a class="navbar__item navbar__link" href="/ProdukBlankOn/README">Produk</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/BlankOn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="BlankOn Wiki"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.jpeg" alt="BlankOn Linux Logo"><strong class="navbar__title">BlankOn</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/TimPengembang/TimBlankOn">Tim Pengembang</a></li><li class="menu__list-item"><a class="menu__link" href="/ProdukBlankOn/README">Produk</a></li><li class="menu__list-item"><a href="https://github.com/BlankOn" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="BlankOn Wiki"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="upload-melalui-http-secara-efisien"></a>Upload Melalui HTTP Secara Efisien<a aria-hidden="true" tabindex="-1" class="hash-link" href="#upload-melalui-http-secara-efisien" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="http-upload"></a>HTTP Upload<a aria-hidden="true" tabindex="-1" class="hash-link" href="#http-upload" title="Direct link to heading">#</a></h2><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="rancangan-diskusi-infrastruktur-2009"></a>Rancangan Diskusi Infrastruktur 2009<a aria-hidden="true" tabindex="-1" class="hash-link" href="#rancangan-diskusi-infrastruktur-2009" title="Direct link to heading">#</a></h4><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="pendahuluan"></a>Pendahuluan<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pendahuluan" title="Direct link to heading">#</a></h3><p>Dokumen ini berisi usulan protokol upload melalui HTTP secara efisien. Yang
dimaksud dengan efisien di sini adalah jika proses upload terputus, maka proses
tersebut dapat dilanjutkan kapan saja. Proses pengecekan validitas data dengan
checksum tidak perlu dilakukan setelah seluruh data terkirim, karena setiap
data yang dikirim dilampiri dengan checksum sehingga dapat dipantau
validitasnya.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="gambaran-umum"></a>Gambaran Umum<a aria-hidden="true" tabindex="-1" class="hash-link" href="#gambaran-umum" title="Direct link to heading">#</a></h3><p>Pengiriman data dilakukan dengan cara memecah data menjadi sejumlah potongan
kecil lalu setiap potongan dikirimkan terpisah secara berurutan. Setiap
pengiriman potongan, checksum dari potongan tersebut juga dilampirkan sehingga
server dapat mengecek validitas potongan tersebut.</p><p>Proses upload dilakukan dalam dua tahap:</p><ol><li>Client memberitahu server bahwa client ingin melakukan upload. Client
memberi informasi nama, ukuran, dan checksum data. Server akan membuatkan
sebuah ID upload untuk sesi upload tersebut.</li><li>Dengan menggunakan ID yang diberikan sebelumnya, client akan mengupload
data dalam bentuk potongan-potongan kecil. Informasi panjang, lokasi
(offset) pada data utuh, dan checksum dari potongan akan dilampirkan pada
saat sebuah potongan di-upload.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="protokol-pengirman"></a>Protokol Pengirman<a aria-hidden="true" tabindex="-1" class="hash-link" href="#protokol-pengirman" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="permintaan-upload"></a>Permintaan Upload<a aria-hidden="true" tabindex="-1" class="hash-link" href="#permintaan-upload" title="Direct link to heading">#</a></h4><p>Client mengirim sebuah HTTP POST Request ke sebuah URL pada path tertentu,
misalnya /upload/. Informasi berikut dikirimkan ke server pada request
tersebut.</p><ol><li>filename, nama berkas</li><li>size, ukuran berkas</li><li>checksum, checksum berkas
Server mencatat permintaan upload pada database, lalu membuat sebuah ID khusus
untuk sesi upload ini.
Server memberi respon 201 Created ke client dan memberi tahu lokasi (URL)
tujuan yang dapat digunakan untuk mengupload potongan. Lokasi upload ini berisi
informasi ID yang telah dibuat sebelumnya. Server memberitahu client akan
lokasi ini dengan cara menuliskannya pada HTTP Response Header Content-
Location.
HTTP/1.1 201 Created
Content-Location: /upload/ID/
...</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="pengiriman-potongan"></a>Pengiriman Potongan<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pengiriman-potongan" title="Direct link to heading">#</a></h4><p>Setelah lokasi pengiriman potongan didapat, client memulai proses pengiriman
potongan data. Ukuran potongan dapat disesuaikan sesuai kebutuhan, misalnya
100KB.</p><p>Potongan dikirimkan dengan melakukan Multipart HTTP POST Request ke URL yang
diberikan oleh server pada tahap permintaan upload. Pada setiap request,
informasi berikut dikirimkan oleh client ke server.</p><ol><li>offset, lokasi potongan pada data utuh</li><li>size, ukuran potongan</li><li>checksum, checksum potongan</li><li>data, data potongan</li></ol><p>Server akan mengidentifikasi sesi upload melalui URL yang digunakan oleh
client. Untuk setiap sesi upload, selain informasi data yang dikirim pada tahap
permintaan upload, server juga mengetahui sudah seberapa besar data yang
diterima. Jika sesi upload gagal diidentifikasi oleh server, server mengirim
respon dengan kode 404 Not Found.</p><p>Informasi lokasi potongan (offset) yang dikirimkan harus sesuai dengan ukuran
data yang sudah diterima. Hal ini dilakukan agar urutan potongan tetap terjaga
dengan baik.</p><p>Data yang diterima oleh server akan dicek validitasnya dengan cara
membandingkan ukuran dan checksum data tersebut dengan informasi ukuran (size)
dan checksum yang dikirimkan.</p><p>Jika potongan dinyatakan valid, maka potongan tersebut akan ditambahkan pada
data yang akan menjadi data akhir yang utuh. Server akan memberikan respon 202
Accepted kepada client pada kondisi ini.</p><p>Jika seluruh data sudah diterima, server akan mengecek validitas data berdasar
checksumnya. Jika semua sesuai, server akan memproses data tersebut (seperti
memindahkannya ke tempat yang tepat) lalu memberikan respon 200 OK ke client.
Kondisi lain yang tidak sesuai harapan akan direspon oleh server dengan kode 409 Conflict.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="catatan"></a>Catatan<a aria-hidden="true" tabindex="-1" class="hash-link" href="#catatan" title="Direct link to heading">#</a></h3><p>Metode request atau kode respon belum tentu sesuai dengan tata cara penggunaan
yang benar yang didefinisikan oleh RFC 2616 (HTTP).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="pengembangan-selanjutnya"></a>Pengembangan Selanjutnya<a aria-hidden="true" tabindex="-1" class="hash-link" href="#pengembangan-selanjutnya" title="Direct link to heading">#</a></h3><ol><li>Otentikasi client.</li><li>Informasi status upload (sudah seberapa besar data yang terkirim).</li><li>Informasi ukuran, lokasi, dan checksum potongan dituliskan pada HTTP
Request Header (Content-Length, Content-Range, Content-MD5)</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="contoh-implementasi"></a>Contoh Implementasi<a aria-hidden="true" tabindex="-1" class="hash-link" href="#contoh-implementasi" title="Direct link to heading">#</a></h3><p>Dapat dilihat di â€‹<a href="http://github.com/fajran/test-django-chuck-upload/tree/" target="_blank" rel="noopener noreferrer">http://github.com/fajran/test-django-chuck-upload/tree/</a>
master.
Implementasi tersebut dibuat dengan Django.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="referensi"></a>Referensi<a aria-hidden="true" tabindex="-1" class="hash-link" href="#referensi" title="Direct link to heading">#</a></h3><ol><li>RFC 2616 (HTTP) â€‹<a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html" target="_blank" rel="noopener noreferrer">http://www.w3.org/Protocols/rfc2616/rfc2616.html</a>
Last modified on 12/03/2008 02:26:15 PM</li></ol><hr></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><div><a href="https://github.com/BlankOn/wiki/commits/master/TimPengembang/Infrastruktur/2009/HttpUpload.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16" style="margin-right:0.3em;vertical-align:sub"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path></svg>Page history</a>,Â Â Â <a href="https://github.com/BlankOn/wiki/edit/master/TimPengembang/Infrastruktur/2009/HttpUpload.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#http-upload" class="table-of-contents__link">HTTP Upload</a><ul><li><a href="#pendahuluan" class="table-of-contents__link">Pendahuluan</a></li><li><a href="#gambaran-umum" class="table-of-contents__link">Gambaran Umum</a></li><li><a href="#protokol-pengirman" class="table-of-contents__link">Protokol Pengirman</a></li><li><a href="#catatan" class="table-of-contents__link">Catatan</a></li><li><a href="#pengembangan-selanjutnya" class="table-of-contents__link">Pengembangan Selanjutnya</a></li><li><a href="#contoh-implementasi" class="table-of-contents__link">Contoh Implementasi</a></li><li><a href="#referensi" class="table-of-contents__link">Referensi</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><a href="https://blankonlinux.or.id" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="BlankOn Linux" src="/img/logo-hitam.png"></a></div><div>Copyright Â© 2020 BlankOn Linux. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.dcbe222e.js"></script>
<script src="/runtime~main.60ad8088.js"></script>
<script src="/main.aeed4b22.js"></script>
<script src="/1.7c4d405e.js"></script>
<script src="/2.d19e4140.js"></script>
<script src="/967.9f3b1eba.js"></script>
<script src="/970.a318286d.js"></script>
<script src="/935f2afb.b3d82976.js"></script>
<script src="/17896441.2730f3b9.js"></script>
<script src="/1cd63d72.4da17914.js"></script>
</body>
</html>