<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="search" type="application/opensearchdescription+xml" title="BlankOn Linux" href="/opensearch.xml"><title data-react-helmet="true">PenerbitanKunciLumbung | BlankOn Linux</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="PenerbitanKunciLumbung | BlankOn Linux"><meta data-react-helmet="true" name="description" content="Persiapan kunci penanda tangan lumbung"><meta data-react-helmet="true" property="og:description" content="Persiapan kunci penanda tangan lumbung"><meta data-react-helmet="true" property="og:url" content="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/PenerbitanKunciLumbung"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://dev.blankonlinux.or.id/TimPengembang/Infrastruktur/PenerbitanKunciLumbung"><link rel="stylesheet" href="/styles.c06d0ab6.css">
<link rel="preload" href="/styles.73659796.js" as="script">
<link rel="preload" href="/runtime~main.5bebafef.js" as="script">
<link rel="preload" href="/main.25400b6f.js" as="script">
<link rel="preload" href="/1.b1a075eb.js" as="script">
<link rel="preload" href="/1be78505.30b130dc.js" as="script">
<link rel="preload" href="/982.859ba755.js" as="script">
<link rel="preload" href="/985.764fb545.js" as="script">
<link rel="preload" href="/935f2afb.9eabe571.js" as="script">
<link rel="preload" href="/981.41839bd5.js" as="script">
<link rel="preload" href="/17896441.356d9741.js" as="script">
<link rel="preload" href="/8b8ebeeb.87d1fd35.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_3046 navbarHidden_1Uo_"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.jpeg" alt="BlankOn Linux Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.jpeg" alt="BlankOn Linux Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">BlankOn</strong></a><a class="navbar__item navbar__link" href="/TimPengembang/TimBlankOn">Tim Pengembang</a><a class="navbar__item navbar__link" href="/ProdukBlankOn/README">Produk</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/BlankOn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="BlankOn Wiki"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.jpeg" alt="BlankOn Linux Logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo.jpeg" alt="BlankOn Linux Logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">BlankOn</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/TimPengembang/TimBlankOn">Tim Pengembang</a></li><li class="menu__list-item"><a class="menu__link" href="/ProdukBlankOn/README">Produk</a></li><li class="menu__list-item"><a href="https://github.com/BlankOn" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="BlankOn Wiki"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="container padding-vert--lg docItemWrapper_1Hme"><div class="row"><div class="col docItemCol_2AGf"><div class="docItemContainer_1tAC"><article><div class="markdown"><h2 id="persiapan-kunci-penanda-tangan-lumbung">Persiapan kunci penanda tangan lumbung</h2><p>Keaslian paket di lumbung turunan Debian dibantu oleh verifikasi tanda tangan digital dengan kunci GPG (itu sebabnya alamat lumbung tersebut tidak perlu lagi dilindungi oleh HTTPS/TLS, lihat <a href="https://whydoesaptnotusehttps.com/">https://whydoesaptnotusehttps.com/</a>). Kita memerlukan kunci GPG untuk menandatangani paket-paket nantinya. Setelah dibuat sesuai panduan di bawah ini, kunci-kunci ini akan tersimpan di <code>/.gnugpg</code>.</p><h3 id="mempersiapkan-rng-untuk-mempercepat-generate-entropy">Mempersiapkan <code>rng</code> untuk mempercepat generate entropy</h3><pre><code>$ sudo apt-get install rng-tools
$ sudo rngd -r /dev/urandom
</code></pre><h3 id="membuat-kunci-gpg-utama">Membuat kunci GPG utama.</h3><p>Abaikan permintaan <code>passphrase</code> untuk menunjang otomasi penandatanganan paket.</p><ul><li><code>gpg --full-generate-key</code></li></ul><pre><code>gpg (GnuPG) 2.1.18; Copyright (C) 2017 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection? 1
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) 4096
Requested keysize is 4096 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0) 5y
Key expires at Wed Jan 24 04:58:41 2024 EST
Is this correct? (y/N) y

GnuPG needs to construct a user ID to identify your key.

Real name: BlankOn Developer
Email address: blankon-dev@googlegroups.com
Comment:
You selected this USER-ID:
    &quot;BlankOn Developer &lt;blankon-dev@googlegroups.com&gt;&quot;

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.

gpg: key 17963DC67219B965 marked as ultimately trusted
gpg: revocation certificate stored as &#x27;/home/arsipdev-reboot/.gnupg/openpgp-revocs.d/9584C1230204D624A15D215117963DC67219B965.rev&#x27;
public and secret key created and signed.
pub   rsa4096 2019-01-25 [SC] [expires: 2024-01-24]
      9584C1230204D624A15D215117963DC67219B965
      9584C1230204D624A15D215117963DC67219B965
uid                      BlankOn Developer &lt;blankon-dev@googlegroups.com&gt;
sub   rsa4096 2019-01-25 [E] [expires: 2024-01-24]
</code></pre><h3 id="membuat-sub-kunci-untuk-keperluan-penandatanganan-paket">Membuat sub kunci untuk keperluan penandatanganan paket</h3><p>Parameternya adalah identitas kunci master.</p><ul><li><code>gpg --edit-key 05657D94F29BDACB99F6CE7D0B352C08D746A9A6</code></li></ul><pre><code>gpg (GnuPG) 2.1.18; Copyright (C) 2017 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Secret key is available.

gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   2  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 2u
gpg: next trustdb check due at 2021-01-24
sec  rsa2048/0B352C08D746A9A6
     created: 2019-01-25  expires: 2021-01-24  usage: SC
     trust: ultimate      validity: ultimate
ssb  rsa2048/BE8FF591E6569748
     created: 2019-01-25  expires: 2021-01-24  usage: E
[ultimate] (1). BlankOn Developer &lt;blankon-dev@googlegroups.com&gt;

gpg&gt; addkey
Please select what kind of key you want:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
Your selection? 4
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) 4096
Requested keysize is 4096 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0) 5y
Key expires at Wed Jan 24 05:06:05 2024 EST
Is this correct? (y/N) y
Really create? (y/N) y

We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.

sec  rsa2048/0B352C08D746A9A6
     created: 2019-01-25  expires: 2021-01-24  usage: SC
     trust: ultimate      validity: ultimate
ssb  rsa2048/BE8FF591E6569748
     created: 2019-01-25  expires: 2021-01-24  usage: E
ssb  rsa4096/1C608FE2ECC8842B
     created: 2019-01-25  expires: 2024-01-24  usage: S
[ultimate] (1). BlankOn Developer &lt;blankon-dev@googlegroups.com&gt;

gpg&gt; save
</code></pre><p>Identitas kunci anak ini (string <code>0B352C08D746A9A6</code>) yang akan dipakai di konfigurasi lumbung nantinya.</p><h3 id="memisahkan-kunci-master">Memisahkan kunci master</h3><p>Tujuan penggunaan subkey dan pemisahan kunci master adalah supaya bila kunci tanda tangan terkena kompromi, kunci penanda tangan baru masih bisa diterbitkan dan paket lama masih bisa diverifikasi.</p><pre><code>$ gpg --armor --export-secret-key 05657D94F29BDACB99F6CE7D0B352C08D746A9A6 &gt; private.key
$ gpg --armor --export 05657D94F29BDACB99F6CE7D0B352C08D746A9A6 &gt;&gt; private.key
</code></pre><p>Simpan berkas <code>private.key</code> ini ke tempat yang aman.</p><p>Pisahkan kunci publik master dan kunci privat anak.</p><pre><code>$ gpg --armor --export 05657D94F29BDACB99F6CE7D0B352C08D746A9A6 &gt; public.key
$ gpg --armor --export-secret-subkeys 0B352C08D746A9A6 &gt; signing.key
</code></pre><p>Hapus kunci privat master dari <code>gnupg</code>.</p><pre><code>$ gpg --delete-secret-key 05657D94F29BDACB99F6CE7D0B352C08D746A9A6
</code></pre><p>Impor kembali kunci publik master dan kunci privat anak.</p><pre><code>$ gpg --import public.key signing.key
</code></pre><p>Pastikan kunci privat master sudah tidak terdaftar di <code>gnupg</code>.</p><pre><code>$ gpg --list-secret-keys
/home/arsipdev/.gnupg/pubring.kbx
----------------------------------------
sec#  rsa4096 2019-01-25 [SC] [expires: 2024-01-24]
      XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
uid           [ultimate] BlankOn Developer &lt;blankon-dev@googlegroups.com&gt;
ssb   rsa4096 2019-01-25 [E] [expires: 2024-01-24]
ssb   rsa4096 2019-01-25 [S] [expires: 2024-01-24]
</code></pre><p>Simbol # setelah <code>sec</code> menandakan tidak ada kunci privat master di <code>gnupg</code>.</p><h2 id="memperpanjang-masa-hidup-kunci">Memperpanjang masa hidup kunci</h2><p>TO BE WRITTEN</p><h2 id="referensi">Referensi</h2><ul><li><a href="https://wiki.debian.org/Subkeys">https://wiki.debian.org/Subkeys</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/BlankOn/wiki/commits/master/TimPengembang/Infrastruktur/PenerbitanKunciLumbung.md" target="_blank" style="margin-right:15px" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16" style="margin-right:0.3em;vertical-align:sub"><path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"></path></svg>Page history</a><a href="https://github.com/BlankOn/wiki/edit/master/TimPengembang/Infrastruktur/PenerbitanKunciLumbung.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#persiapan-kunci-penanda-tangan-lumbung" class="table-of-contents__link">Persiapan kunci penanda tangan lumbung</a><ul><li><a href="#mempersiapkan-rng-untuk-mempercepat-generate-entropy" class="table-of-contents__link">Mempersiapkan <code>rng</code> untuk mempercepat generate entropy</a></li><li><a href="#membuat-kunci-gpg-utama" class="table-of-contents__link">Membuat kunci GPG utama.</a></li><li><a href="#membuat-sub-kunci-untuk-keperluan-penandatanganan-paket" class="table-of-contents__link">Membuat sub kunci untuk keperluan penandatanganan paket</a></li><li><a href="#memisahkan-kunci-master" class="table-of-contents__link">Memisahkan kunci master</a></li></ul></li><li><a href="#memperpanjang-masa-hidup-kunci" class="table-of-contents__link">Memperpanjang masa hidup kunci</a></li><li><a href="#referensi" class="table-of-contents__link">Referensi</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><a href="https://blankonlinux.or.id" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="BlankOn Linux" src="/img/logo-hitam.png"></a></div><div>Copyright Â© 2020 BlankOn Linux. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.73659796.js"></script>
<script src="/runtime~main.5bebafef.js"></script>
<script src="/main.25400b6f.js"></script>
<script src="/1.b1a075eb.js"></script>
<script src="/1be78505.30b130dc.js"></script>
<script src="/982.859ba755.js"></script>
<script src="/985.764fb545.js"></script>
<script src="/935f2afb.9eabe571.js"></script>
<script src="/981.41839bd5.js"></script>
<script src="/17896441.356d9741.js"></script>
<script src="/8b8ebeeb.87d1fd35.js"></script>
</body>
</html>