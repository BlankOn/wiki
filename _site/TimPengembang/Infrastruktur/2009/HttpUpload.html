<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>wiki | Wiki Pengembangan Proyek BlankOn</title>
<meta property="og:title" content="wiki" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Wiki Pengembangan Proyek BlankOn" />
<meta property="og:description" content="Wiki Pengembangan Proyek BlankOn" />
<link rel="canonical" href="http://localhost:4000/TimPengembang/Infrastruktur/2009/HttpUpload.html" />
<meta property="og:url" content="http://localhost:4000/TimPengembang/Infrastruktur/2009/HttpUpload.html" />
<meta property="og:site_name" content="wiki" />
<script type="application/ld+json">
{"name":null,"description":"Wiki Pengembangan Proyek BlankOn","author":null,"@type":"WebPage","url":"http://localhost:4000/TimPengembang/Infrastruktur/2009/HttpUpload.html","publisher":null,"image":null,"headline":"wiki","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <img src="/assets/images/logo-blankon.jpg">
        <p>Wiki Pengembangan Proyek BlankOn</p>

        

        

          <ul class="download">
            <li class="download"><a href="">Unduh <strong>BlankOn X Tambora</strong></a></li>
            <li class="download"><a href="">Unduh <strong>Buku Panduan</strong></a></li>
            <li class="download"><a href="">Unduh <strong>Jahitan Harian</strong></a></li>
          </ul>
        <h3>Tim Pengembang</h3>
        <ul>
        <li><a href="">Humas <small></small></a></li>
        <li><a href="">Infrastruktur <small></small></a></li>
        <li><a href="">Riset <small></small></a></li>
        <li><a href="">Dokumentasi <small></small></a></li>
        <li><a href="">Pemaket <small></small></a></li>
        <li><a href="">Kesenian <small></small></a></li>
        <li><a href="">Jaminan Kualitas <small></small></a></li>
        </ul>
        <h3>Wiki</h3>
        <ul>
          <li><a href="">Daftar Isi <small></small></a></li>
          <li><a href="">Peta pranala <small></small></a></li>
        </ul>
        <h3>Rilis</h3>
        <ul>
          <li><a href="">Tambora <small></small></a></li>
          <li><a href="">Suroboyo <small></small></a></li>
          <li><a href="">Rote <small></small></a></li>
          <li><a href="">Pattimura <small></small></a></li>
          <li><a href="">Ombilin <small></small></a></li>
          <li><a href="">Nanggar <small></small></a></li>
          <li><a href="">Meuligo <small></small></a></li>
          <li><a href="">Lontara <small></small></a></li>
        </ul>
      </header>
      <section>

      <h4 id="rancangan-diskusi-infrastruktur-2009">Rancangan Diskusi Infrastruktur 2009</h4>

<h1 id="http-upload">HTTP Upload</h1>
<h2 id="upload-melalui-http-secara-efisien">Upload Melalui HTTP Secara Efisien</h2>

<h3 id="pendahuluan">Pendahuluan</h3>
<p>Dokumen ini berisi usulan protokol upload melalui HTTP secara efisien. Yang
dimaksud dengan efisien di sini adalah jika proses upload terputus, maka proses
tersebut dapat dilanjutkan kapan saja. Proses pengecekan validitas data dengan
checksum tidak perlu dilakukan setelah seluruh data terkirim, karena setiap
data yang dikirim dilampiri dengan checksum sehingga dapat dipantau
validitasnya.</p>

<h3 id="gambaran-umum">Gambaran Umum</h3>
<p>Pengiriman data dilakukan dengan cara memecah data menjadi sejumlah potongan
kecil lalu setiap potongan dikirimkan terpisah secara berurutan. Setiap
pengiriman potongan, checksum dari potongan tersebut juga dilampirkan sehingga
server dapat mengecek validitas potongan tersebut.</p>

<p>Proses upload dilakukan dalam dua tahap:</p>
<ol>
  <li>Client memberitahu server bahwa client ingin melakukan upload. Client
memberi informasi nama, ukuran, dan checksum data. Server akan membuatkan
sebuah ID upload untuk sesi upload tersebut.</li>
  <li>Dengan menggunakan ID yang diberikan sebelumnya, client akan mengupload
data dalam bentuk potongan-potongan kecil. Informasi panjang, lokasi
(offset) pada data utuh, dan checksum dari potongan akan dilampirkan pada
saat sebuah potongan di-upload.</li>
</ol>

<h3 id="protokol-pengirman">Protokol Pengirman</h3>

<h4 id="permintaan-upload">Permintaan Upload</h4>
<p>Client mengirim sebuah HTTP POST Request ke sebuah URL pada path tertentu,
misalnya /upload/. Informasi berikut dikirimkan ke server pada request
tersebut.</p>
<ol>
  <li>filename, nama berkas</li>
  <li>size, ukuran berkas</li>
  <li>checksum, checksum berkas
Server mencatat permintaan upload pada database, lalu membuat sebuah ID khusus
untuk sesi upload ini.
Server memberi respon 201 Created ke client dan memberi tahu lokasi (URL)
tujuan yang dapat digunakan untuk mengupload potongan. Lokasi upload ini berisi
informasi ID yang telah dibuat sebelumnya. Server memberitahu client akan
lokasi ini dengan cara menuliskannya pada HTTP Response Header Content-
Location.
HTTP/1.1 201 Created
Content-Location: /upload/ID/
…
    <h4 id="pengiriman-potongan">Pengiriman Potongan</h4>
    <p>Setelah lokasi pengiriman potongan didapat, client memulai proses pengiriman
potongan data. Ukuran potongan dapat disesuaikan sesuai kebutuhan, misalnya
100KB.</p>
  </li>
</ol>

<p>Potongan dikirimkan dengan melakukan Multipart HTTP POST Request ke URL yang
diberikan oleh server pada tahap permintaan upload. Pada setiap request,
informasi berikut dikirimkan oleh client ke server.</p>
<ol>
  <li>offset, lokasi potongan pada data utuh</li>
  <li>size, ukuran potongan</li>
  <li>checksum, checksum potongan</li>
  <li>data, data potongan</li>
</ol>

<p>Server akan mengidentifikasi sesi upload melalui URL yang digunakan oleh
client. Untuk setiap sesi upload, selain informasi data yang dikirim pada tahap
permintaan upload, server juga mengetahui sudah seberapa besar data yang
diterima. Jika sesi upload gagal diidentifikasi oleh server, server mengirim
respon dengan kode 404 Not Found.</p>

<p>Informasi lokasi potongan (offset) yang dikirimkan harus sesuai dengan ukuran
data yang sudah diterima. Hal ini dilakukan agar urutan potongan tetap terjaga
dengan baik.</p>

<p>Data yang diterima oleh server akan dicek validitasnya dengan cara
membandingkan ukuran dan checksum data tersebut dengan informasi ukuran (size)
dan checksum yang dikirimkan.</p>

<p>Jika potongan dinyatakan valid, maka potongan tersebut akan ditambahkan pada
data yang akan menjadi data akhir yang utuh. Server akan memberikan respon 202
Accepted kepada client pada kondisi ini.</p>

<p>Jika seluruh data sudah diterima, server akan mengecek validitas data berdasar
checksumnya. Jika semua sesuai, server akan memproses data tersebut (seperti
memindahkannya ke tempat yang tepat) lalu memberikan respon 200 OK ke client.
Kondisi lain yang tidak sesuai harapan akan direspon oleh server dengan kode 409 Conflict.</p>

<h3 id="catatan">Catatan</h3>
<p>Metode request atau kode respon belum tentu sesuai dengan tata cara penggunaan
yang benar yang didefinisikan oleh RFC 2616 (HTTP).</p>

<h3 id="pengembangan-selanjutnya">Pengembangan Selanjutnya</h3>
<ol>
  <li>Otentikasi client.</li>
  <li>Informasi status upload (sudah seberapa besar data yang terkirim).</li>
  <li>Informasi ukuran, lokasi, dan checksum potongan dituliskan pada HTTP
Request Header (Content-Length, Content-Range, Content-MD5)</li>
</ol>

<h3 id="contoh-implementasi">Contoh Implementasi</h3>
<p>Dapat dilihat di ​http://github.com/fajran/test-django-chuck-upload/tree/
master.
Implementasi tersebut dibuat dengan Django.</p>

<h3 id="referensi">Referensi</h3>
<ol>
  <li>RFC 2616 (HTTP) ​http://www.w3.org/Protocols/rfc2616/rfc2616.html
Last modified on 12/03/2008 02:26:15 PM</li>
</ol>

<hr />
<p><a href="/DaftarIsi/README.md"><strong>Daftar Isi Wiki BlankOn</strong></a></p>

<p><a href="/Indeks.md"><strong>Indeks Wiki BlankOn</strong></a></p>


      </section>
      <footer>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>


  
  </body>
</html>
