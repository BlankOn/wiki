<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Tujuan | wiki</title>
<meta property="og:title" content="Tujuan" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Wiki Pengembangan Proyek BlankOn" />
<meta property="og:description" content="Wiki Pengembangan Proyek BlankOn" />
<link rel="canonical" href="http://localhost:4000/TimPengembang/Pemaket/Panduan/MembuatPaketDebian.html" />
<meta property="og:url" content="http://localhost:4000/TimPengembang/Pemaket/Panduan/MembuatPaketDebian.html" />
<meta property="og:site_name" content="wiki" />
<script type="application/ld+json">
{"name":null,"description":"Wiki Pengembangan Proyek BlankOn","author":null,"@type":"WebPage","url":"http://localhost:4000/TimPengembang/Pemaket/Panduan/MembuatPaketDebian.html","publisher":null,"image":null,"headline":"Tujuan","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <img src="/assets/images/logo-blankon.jpg">
        <p>Wiki Pengembangan Proyek BlankOn</p>

        

        

          <ul class="download">
            <li class="download"><a href="">Unduh <strong>BlankOn X Tambora</strong></a></li>
            <li class="download"><a href="">Unduh <strong>Buku Panduan</strong></a></li>
            <li class="download"><a href="">Unduh <strong>Jahitan Harian</strong></a></li>
          </ul>
        <h3>Tim Pengembang</h3>
        <ul>
        <li><a href="">Humas <small></small></a></li>
        <li><a href="">Infrastruktur <small></small></a></li>
        <li><a href="">Riset <small></small></a></li>
        <li><a href="">Dokumentasi <small></small></a></li>
        <li><a href="">Pemaket <small></small></a></li>
        <li><a href="">Kesenian <small></small></a></li>
        <li><a href="">Jaminan Kualitas <small></small></a></li>
        </ul>
        <h3>Wiki</h3>
        <ul>
          <li><a href="">Daftar Isi <small></small></a></li>
          <li><a href="">Peta pranala <small></small></a></li>
        </ul>
        <h3>Rilis</h3>
        <ul>
          <li><a href="">Tambora <small></small></a></li>
          <li><a href="">Suroboyo <small></small></a></li>
          <li><a href="">Rote <small></small></a></li>
          <li><a href="">Pattimura <small></small></a></li>
          <li><a href="">Ombilin <small></small></a></li>
          <li><a href="">Nanggar <small></small></a></li>
          <li><a href="">Meuligo <small></small></a></li>
          <li><a href="">Lontara <small></small></a></li>
        </ul>
      </header>
      <section>

      <h2 id="tujuan">Tujuan</h2>
<p>Dokumen ini menjelaskan langkah-langkah pembuatan paket Debian sederhana.</p>

<h2 id="pengetahuan-dasar">Pengetahuan dasar</h2>
<p>Pengetahuan akan hal-hal berikut akan membantu Anda membuat paket Debian dengan benar:</p>
<ul>
  <li>Mekanisme pembangunan perangkat lunak, misalnya dengan Makefile atau autotools.</li>
  <li>Cara kerja instalasi paket Debian (dpkg, apt-get).</li>
</ul>

<p>Dalam dokumen ini diasumsikan paket khayalan yang dibangun menggunakan autotools.</p>

<h2 id="peralatan">Peralatan</h2>
<p>Silakan mulai dengan menginstal peralatan berikut:</p>
<ul>
  <li>cdbs</li>
  <li>debhelper</li>
  <li>devscripts</li>
  <li>penyunting teks</li>
</ul>

<h2 id="mulai-bekerja">Mulai bekerja</h2>
<p>Siapkan paket yang belum ada paket Debiannya. Ciri-cirinya adalah dengan tidak ada direktori DEBIAN atau debian di dalamnya. Misalnya kita punya perangkat lunak bernama labusiyam. Perangkat lunak ini menggunakan autotools (ciri-cirinya, dibangun dengan cara ./configure kemudian make dan make install).</p>

<h2 id="pendataan-berkas-yang-diinstal">Pendataan berkas yang diinstal</h2>
<p>Saat melakukan make install perangkat lunak ini akan menginstal:</p>
<ul>
  <li>/usr/bin/labusiyam</li>
  <li>/usr/lib/liblabusiyam.so.0.0.1</li>
  <li>/usr/lib/liblabusiyam.so.0 (symlink)</li>
  <li>/usr/lib/liblabusiyam.so (symlink)</li>
  <li>/usr/include/labusiyam.h</li>
  <li>/etc/labusiyam/config.txt</li>
  <li>/usr/share/labusiyam/data.txt</li>
</ul>

<p>Tahu dari mana bahwa berkas-berkas di atas yang diinstal? Silakan tengok Makefile.am di seluruh direktori yang ada di dalam kode sumbernya. Ciri-ciri berkas yang diinstal adalah berkas yang ada didefinisikan dalam variabel:</p>
<ul>
  <li>bin_PROGRAMS</li>
  <li>LTLIBRARIES</li>
  <li>variabel yang mengandung kata ‘dir’, misalnya:</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code> configdir = $(sysconf)
 config_DATA = config.txt
</code></pre>
</div>
<p>berarti berkas-berkas yang ada di dalam variabel berikutnya (yang tanpa kata dir akan diinstal ke dalam direktori itu).
Semua berkas yang akan diinstal harus dicatat dengan baik.</p>

<h2 id="pengategorian-paket">Pengategorian paket</h2>
<p>Dalam daftar berkas ada tiga jenis paket yang akan kita buat:</p>
<ul>
  <li>Paket binari Paket ini berisi semua program dalam /usr/bin atau /usr/sbin atau direktori eksekutabel lainnya. Juga berisi berkas-berkas pendukung (data dan konfigurasi)</li>
  <li>Paket pustaka program Paket ini berisi semua pustaka program yang memiliki pola nama /usr/lib/lib*. Nama paket ini harus dimulai dengan kata lib dan diakhiri dengan nomor SONAME.</li>
  <li>Paket pengembangan Paket ini berisi symlink ke pustaka program dan semua berkas yang dibutuhkan untuk pengembangan (misalnya berkas-berkas kepala kode sumber (header files)).</li>
  <li>Paket debug Paket ini berisi salinan binari dan pustaka program dengan menyertakan simbol di dalamnya. Gunanya untuk menelusuri kesalahan program dengan debugger.</li>
</ul>

<p>Jadi dalam kasus kita kita akan buat paket-paket berikut:</p>
<ul>
  <li>labusiyam</li>
  <li>liblabusiyamX</li>
  <li>liblabusiyam-dev</li>
  <li>liblabusiyamX-dbg</li>
  <li>labusiyam-dbg</li>
</ul>

<p>X dalam liblabusiyamX belum kita ketahui. Namun nilainya dapat kita cari dengan cara:</p>

<div class="highlighter-rouge"><pre class="highlight"><code> $ make                              #asumsi proses berjalan lancar
 $ cd src/.libs                      #asumsi lokasinya ada di src/
 $ objdump -x liblabusiyam.so.0.0.1 | grep SONAME
</code></pre>
</div>

<p>Perintah di atas akan menghasilkan sesuatu seperti</p>

<div class="highlighter-rouge"><pre class="highlight"><code>SONAME     liblabusiyam.so.0
</code></pre>
</div>

<p>Angka terakhir itulah (0) yang dijadikan X. Jadi daftar final paket kita adalah:</p>
<ul>
  <li>labusiyam</li>
  <li>liblabusiyam0</li>
  <li>liblabusiyam-dev</li>
  <li>liblabusiyam0-dbg</li>
  <li>labusiyam-dbg</li>
</ul>

<h2 id="pendefinisian-paket">Pendefinisian paket</h2>
<div class="highlighter-rouge"><pre class="highlight"><code> mkdir debian 
 cd debian 
 touch changelog control rules 
 chmod +x rules 
 touch labusiyam.install labusiyam0.install labusiyam-dev.install 
 echo 4 &gt; compat 
</code></pre>
</div>

<p>Sekarang kalau dilihat kita akan lihat:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ls -l
</code></pre>
</div>

<p>hasilnya:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>total 8 
-rw-r--r-- 1 mdamt mdamt    0 2007-07-11 16:07 changelog 
-rw-r--r-- 1 mdamt mdamt    2 2007-07-11 16:07 compat 
-rw-r--r-- 1 mdamt mdamt    0 2007-07-11 16:07 control 
-rw-r--r-- 1 mdamt mdamt    0 2007-07-11 16:07 labusiyam0.install 
-rw-r--r-- 1 mdamt mdamt    0 2007-07-11 16:07 labusiyam-dev.install 
-rw-r--r-- 1 mdamt mdamt    0 2007-07-11 16:07 labusiyam.install 
-rwxr-xr-x 1 mdamt mdamt    0 2007-07-11 16:07 rules 
</code></pre>
</div>

<h2 id="membuat-program-pembangun-paket">Membuat program pembangun paket</h2>
<p>Sunting berkas rules. Isikan informasi berikut:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>#!/usr/bin/make -f 

include /usr/share/cdbs/1/rules/debhelper.mk 
include /usr/share/cdbs/1/class/autotools.mk 

DEB_DH_STRIP_ARGS := --dbg-package=liblabusiyam0 --dbg-package=labusiyam
</code></pre>
</div>

<p>Berkas di atas menandakan bahwa pembangunan paket akan menggunakan skrip cdbs. Di situ juga didefinisikan dua paket debug yang kita punya.</p>

<h2 id="membuat-definisi-paket">Membuat definisi paket</h2>
<p>Sunting berkas control. Isikan informasi berikut:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Source: labusiyam 
Section: base 
Priority: optional 
Maintainer: Prajurit Ryan &lt;ryan@private.tentara.mil&gt; 
Build-Depends: debhelper, cdbs, pkg-config, libgtk2.0-dev 
Standards-Version: 3.6.0 

Package: labusiyam 
Section: base 
Architecture: any 
Depends: ${shlibs:Depends}, ${misc:Depends},  
Description: Labusiyam 
Labusiyam digunakan untuk membuat sayur. 

Package: liblabusiyam0 
Section: base 
Architecture: any 
Depends: ${shlibs:Depends}, ${misc:Depends},  
Description: Pustaka Labusiyam 
Pustaka Labusiyam digunakan untuk membuat sayur lainnya. 

Package: labusiyam-dev 
Section: base 
Architecture: all 
Depends: ${shlibs:Depends}, ${misc:Depends},  
Description: Pengembangan Labusiyam 
Paket ini digunakan untuk membantu pembuatan sayur lain. 
</code></pre>
</div>

<p>Perhatikan untuk mengisi kolom-kolom Section, Architecture, dan Build-Depends dengan benar. Mari kita lihat satu-persatu:</p>
<ul>
  <li>
    <p>Definisi pertama kali dibuka dengan mendefinisikan paket sumber, ditandai dengan adanya kolom Source. Isikan dengan nama paketnya. Build-Depends diisi dengan paket-paket yang dibutuhkan selama pembangunan paket ini (semua paket yang Anda butuhkan saat melakukan make dan make install).</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  Source: labusiyam 
  Section: base 
  Priority: optional 
  Maintainer: Prajurit Ryan &lt;ryan@private.tentara.mil&gt; 
  Build-Depends: debhelper, cdbs, pkg-config, libgtk2.0-dev 
  Standards-Version: 3.6.0 
</code></pre>
    </div>
  </li>
  <li>
    <p>Kemudian definisikan paket binari kita, yaitu labusiyam. Section diisi sesuai dengan kategori perangkat lunaknya. Silakan konsultasi dengan manual Debian. Arsitektur diisi dengan any karena mengandung berkas-berkas binari.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  Package: labusiyam 
  Section: base 
  Architecture: any 
  Depends: ${shlibs:Depends}, ${misc:Depends},  
  Description: Labusiyam 
  Labusiyam digunakan untuk membuat sayur.
</code></pre>
    </div>
  </li>
  <li>
    <p>Lalu paket pustaka.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  Package: liblabusiyam0 
  Section: base 
  Architecture: any 
  Depends: ${shlibs:Depends}, ${misc:Depends},  
  Description: Pustaka Labusiyam 
  Pustaka Labusiyam digunakan untuk membuat sayur lainnya.
</code></pre>
    </div>
  </li>
  <li>
    <p>Lalu paket pengembangan. Arsitektur kita isi dengan all karena ia hanya menginstal berkas labusiyam.h dan tautan simbolik saja. Bila ia juga menyertakan berkas binari maka harus kita ganti ke any.</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  Package: labusiyam-dev 
  Section: base 
  Architecture: all 
  Depends: ${shlibs:Depends}, ${misc:Depends},  
  Description: Pengembangan Labusiyam 
  Paket ini digunakan untuk membantu pembuatan sayur lain. 
</code></pre>
    </div>
  </li>
  <li>
    <p>Cukup sekian. Paket debug tidak perlu kita definisikan dalam debian/control.</p>
  </li>
</ul>

<h2 id="mendaftarkan-berkas">Mendaftarkan berkas</h2>
<p>Selanjutnya adalah mendaftarkan berkas yang akan diinstal dalam masing-masing paket. Mari kita sunting berkas-berkas berikut dan mengisinya dengan informasi yang juga diberikan di bawah.</p>

<ul>
  <li>labusiyam.install
    <div class="highlighter-rouge"><pre class="highlight"><code>  debian/tmp/usr/bin/labusiyam 
  debian/tmp/etc/labusiyam/config.txt 
  debian/tmp/usr/share/labusiyam/data.txt
</code></pre>
    </div>
  </li>
  <li>liblabusiyam0.install
    <div class="highlighter-rouge"><pre class="highlight"><code>  debian/tmp/usr/lib/liblabusiyam.so.0.0.1
  debian/tmp/usr/lib/liblabusiyam.so.0
</code></pre>
    </div>
  </li>
  <li>atau boleh juga:
    <div class="highlighter-rouge"><pre class="highlight"><code>  debian/tmp/usr/lib/liblabusiyam.so.*
</code></pre>
    </div>
  </li>
  <li>liblabusiyam-dev.install
    <div class="highlighter-rouge"><pre class="highlight"><code>  debian/tmp/usr/lib/liblabusiyam.so 
  debian/tmp/usr/include/labusiyam.h
</code></pre>
    </div>
  </li>
</ul>

<h2 id="membuat-catatan-versi">Membuat catatan versi</h2>
<p>Sunting berkas changelog, isikan:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>labusiyam (0.0.1-0blankon1) konde; urgency=low 

/* New release. 
  
 -- Prajurit Ryan &lt;ryan@private.tentara.mil&gt;  Wed,  4 Jul 2007 11:37:37 +0300
</code></pre>
</div>

<p>Perhatikan bahwa penulisan tanggal harus dilakukan dengan bentuk seperti di atas. Silakan konsultasi dengan manual Debian untuk lebih jelasnya. Perhatikan di mana harus menulis spasi dan di mana tidak. Penomoran nomor versi bergantung dengan konvensi distribusi. Kata konde di atas menandakan bahwa paket ini ditujukan untuk distribusi konde. Pada Debian biasanya menggunakan unstable atau testing.</p>

<h2 id="membangun-paket">Membangun paket</h2>
<p>Sekarang mari kita bangun paketnya:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd ..    '''#tadi ada di dalam direktori debian/ sekarang kita naik satu tingkat''' 
dpkg-buildpackage -rfakeroot 
</code></pre>
</div>

<p>Bila tidak ada aral melintang, maka dalam direktori atasnya lagi kita akan punya berkas-berkas berikut:</p>
<div class="highlighter-rouge"><pre class="highlight"><code> * labusiyam_0.0.1-0ubuntu1_i386.deb 
 * liblabusiyam0_0.0.1-0ubuntu1_i386.deb 
 * liblabusiyam-dev_0.0.1-0ubuntu1_all.deb 
 * liblabusiyam0-dbg_0.0.1-0ubuntu1_i386.deb 
 * labusiyam-dbg_0.0.1-0ubuntu1_i386.deb 
 * labusiyam_0.0.1-0ubuntu1.dsc 
 * labusiyam_0.0.1-0ubuntu1.tar.gz
</code></pre>
</div>
<h2 id="pengecekan">Pengecekan</h2>
<p>Pengecekan perlu kita lakukan pada tiap-tiap paket yang dihasilkan guna memastikan bahwa paket-paket tersebut berisi berkas-berkas yang benar.</p>

<h2 id="pengecekan-daftar-isi">Pengecekan daftar isi</h2>
<p>Mengeceknya mudah. Gunakan perintah:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>dpkg --contents nama-berkas.deb
</code></pre>
</div>

<p>Dalam hasil keluaran biasanya akan muncul bahwa ada berkas bernama changelog.gz, changelog.Debian.gz, dan copyright. Ini tidak apa-apa. Namun pastikan bahwa berkas-berkas yang sudah kita masukkan ke dalam berkas *.install benar-benar ada dalam hasil keluarannya.</p>

<h2 id="pengecekan-instalasi">Pengecekan instalasi</h2>
<p>Cek dengan menginstal paket tersebut:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo dpkg -i nama-berkas.deb
</code></pre>
</div>

<p>Biasanya masalah yang timbul disini adalah ketidakcocokan dalam ketergantungan paket, dsb.</p>

<h2 id="pengecekan-kesalahan-lain">Pengecekan kesalahan lain</h2>
<p>Gunakan perangkat lunak khusus pengecekan paket, misalnya linda atau lintian. Caranya silakan lihat halaman manualnya masing-masing.</p>

<h2 id="ada-pertanyaan">Ada pertanyaan?</h2>
<p>Silakan tanya ke milis ubuntu-id@… dengan subyek [PAKET].</p>

<h2 id="tautan-penting">Tautan penting</h2>
<ul>
  <li><a href="http://www.debian.org/doc/debian-policy">Debian Policy Manual</a></li>
  <li><a href="https://perso.duckcorp.org/duck/cdbs-doc/cdbs-doc.xhtml">Manual CDBS</a></li>
</ul>

<hr />
<p><a href="/DaftarIsi/README.md"><strong>Daftar Isi Wiki BlankOn</strong></a></p>

<p><a href="/Indeks.md"><strong>Indeks Wiki BlankOn</strong></a></p>



      </section>
      <footer>
        
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>


  
  </body>
</html>
